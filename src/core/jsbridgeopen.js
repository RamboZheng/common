!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,i){"use strict";e.exports={user:{version:"",build:"",city:"",token:"",phone:"",name:"",nickname:"",tel:"",idNum:"",isLogin:!1,isReal:!1,longitude:"",latitude:"",location:"",pushToken:"",notice:!1,logo:"",sex:"",realname:"realname",realid:"",brithday:"",realphone:"",noticeState:"",deviceToken:"",os:"",state:""},isUseDebugToken:!1,initCallback:void 0,isCallInit:!1,nativeCallbacks:{},version:function(){return this.user.version},getCityCode:function(){return this.user.city},setInitCallback:function(e){this.initCallback=e},hasLogin:function(){return this.user.isLogin},hasAuth:function(){return this.user.isReal},setOldUser:function(e){this.user.version=e.version,this.user.build=e.build,this.user.token=e.token,this.user.city=e.citycode,this.user.phone=e.phone,this.user.nickname=e.nickname,this.user.longitude=e.longitude,this.user.latitude=e.latitude,this.user.location=e.location,this.user.pushToken=e.pushToken,this.user.state=e.state,""==this.user.phone?this.user.isLogin=!1:this.user.isLogin=!0,""==e.realid?this.user.isReal=!1:(this.user.isReal=!0,this.user.name=e.realname,this.user.tel=e.realphone,this.user.idNum=e.realid),"open"==e.notice?this.user.notice=!0:this.user.notice=!1,void 0!=console&&console.log("===setOldUser==="),this.notifyCaller()},setUser:function(e){this.user.version=e.version,this.user.city=e.citycode,this.user.state=e.state,this.user.token=e.token,this.user.build=e.build,0==e.state?this.user.isLogin=!1:1==e.state?this.user.isLogin=!0:(this.user.isLogin=!0,this.user.isReal=!0),void 0!=console&&console.log("===setUser==="),this.notifyCaller()},setPathUser:function(e){this.user.version=e.version,this.user.city=e.city,this.user.token=e.token,this.user.build=e.build,void 0!=console&&console.log("===setPathUser==="),this.notifyCaller()},notifyCaller:function(){this.isCallInit=!0,void 0!=console&&console.log("===JSBridge init completed==="),void 0!=this.initCallback&&(void 0!=console&&console.log("===call init callback==="),this.initCallback(this.user.isLogin))},callNative:function(e,t){void 0!=console&&console.log("callNative type="+e.type),this.saveNativeCallback(e,t);try{this.user.version>="2.4.4"&&!this.isUseDebugToken?this.callNativeApi(e,t):this.call243NativeApi(e,t)}catch(e){void 0!=console&&console.log("callNative="+e)}},callNativeApi:function(e,t){var i=JSON.stringify(e);window.WebViewJavascriptBridge.callHandler("bridgeToNative",i,function(e){t(JSON.parse(e))})},call243NativeApi:function(e,t){var i=this;if("reqdata"==e.type)return void i.handle243Data(e,t);var a=JSON.stringify(e);window.ICYbridge?window.ICYbridge.bridgeToNative(a):window.webkit.messageHandlers.bridgeToNative.postMessage(a)},handle243Data:function(e,t){"realInfo"==e.data.type?this.handleRealData(e,t):"baseInfo"==e.data.type?this.handleBaseData(e,t):"location"==e.data.type?this.handleLocationData(e,t):"phone"==e.data.type?this.handleTelData(e,t):"deviceInfo"==e.data.type&&this.handleDeviceData(e,t)},handleRealData:function(e,t){var i=this;t({type:e.data.type,reqid:e.reqid,data:{realid:i.user.idNum,realname:i.user.name,realphone:i.user.tel}})},handleBaseData:function(e,t){var i=this;t({type:e.data.type,reqid:e.reqid,data:{phone:i.user.tel,nickname:i.user.nickname,logo:i.user.logo,sex:i.user.sex,brithday:i.user.brithday}})},handleLocationData:function(e,t){var i=this;t({type:e.data.type,reqid:e.reqid,data:{longitude:i.user.longitude,latitude:i.user.latitude,location:i.user.location}})},handleTelData:function(e,t){var i=this;t({type:e.data.type,reqid:e.reqid,data:{phone:i.user.tel}})},handleDeviceData:function(e,t){var i=this;t({type:e.data.type,reqid:e.reqid,data:{noticeState:i.user.noticeState,deviceToken:i.user.deviceToken,os:i.user.os}})},GLOBAL_TYPES:{photo:"photolib",camera:"cam",scanBankCard:"scanBankCard",idCardFornt:"idCardFornt",idCardDown:"idCardDown"},saveNativeCallback:function(e,t){var i=e.type;i==this.GLOBAL_TYPES.photo||i==this.GLOBAL_TYPES.camera?this.nativeCallbacks[this.GLOBAL_TYPES.photo]=t:i==this.GLOBAL_TYPES.scanBankCard?this.nativeCallbacks[this.GLOBAL_TYPES.scanBankCard]=t:i!=this.GLOBAL_TYPES.idCardFornt&&i!=this.GLOBAL_TYPES.idCardDown||(this.nativeCallbacks[this.GLOBAL_TYPES.idCardFornt]=t)},handleNativeResp:function(e){"image"==e.type?this.handleImageResp(e):"scanBankCard"==e.type?this.handleScanCard4MinSheng(e):e.type!=this.GLOBAL_TYPES.idCardFornt&&e.type!=this.GLOBAL_TYPES.idCardDown||this.handleScanCardId(e)},handleImageResp:function(e){var t=this.nativeCallbacks[this.GLOBAL_TYPES.photo];if(void 0!=t){var i,a=e.data.img;a instanceof Array?i=a:(i=new Array,i[0]=a),t(i)}},handleScanCard4MinSheng:function(e){var t=this.nativeCallbacks[this.GLOBAL_TYPES.scanBankCard];void 0!=t&&t(e)},handleScanCardId:function(e){var t=this.nativeCallbacks[this.GLOBAL_TYPES.idCardFornt];void 0!=t&&t(e)}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}i(2);var n=i(3),o=a(n),s=i(4),r=a(s),d=i(5),l=a(d),u=i(6),c=a(u),h=i(7),f=a(h);window.objExtend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])},Object&&Object.assign?window.iCityBridge=Object.assign(o.default,c.default,f.default,l.default,r.default):(objExtend(o.default,c.default),objExtend(o.default,f.default),objExtend(o.default,l.default),objExtend(o.default,r.default),window.iCityBridge=o.default)},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);if(void 0==window.isInitNativeJSBridge||0==window.isInitNativeJSBridge){window.isInitNativeJSBridge=!0,window.hasCallJSBridgeUserInit=!1,window.bridgeToWeb=function(e){var t=JSON.parse(e);"user"!=t.type||window.hasCallJSBridgeUserInit?n.default.handleNativeResp(t):(void 0!=console&&console.log("===bridgeToWeb user==="),window.hasCallJSBridgeUserInit=!0,n.default.setOldUser(t.data))};if("android"==navigator.userAgent.toLowerCase().match(/android/i))try{!function(e){window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1)}(function(e){void 0!=console&&console.log("===connectWebViewJavascriptBridge==="),e.init(function(e,t){}),e.registerHandler("bridgeToWeb",function(e,t){void 0!=console&&console.log("===android bridge.bridgeToWeb==="),bridgeToWebHandle(e)})})}catch(e){}else!function(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}(function(e){e.registerHandler("bridgeToWeb",function(e,t){void 0!=console&&console.log("===ios bridge.bridgeToWeb==="),bridgeToWebHandle(e)})});window.bridgeToWebHandle=function(e){var t=JSON.parse(e);"common"!=t.type||window.hasCallJSBridgeUserInit?n.default.handleNativeResp(t):(void 0!=console&&console.log("===bridgeToWeb common==="),window.hasCallJSBridgeUserInit=!0,n.default.setUser(t.data))}}},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={isCloseNative:!1,init:function(e){var t=this;if(void 0!=t.getQueryString("token"))return n.default.setPathUser({build:t.getQueryString("build"),city:t.getQueryString("city"),token:t.getQueryString("token"),version:t.getQueryString("version")}),void e(t.hasLogin());var i=sessionStorage.getItem("icity_debug_token"),a=sessionStorage.getItem("icity_debug_version");return!t.hasLogin()&&i&&(n.default.user.token=i,n.default.isUseDebugToken=!0,n.default.user.isLogin=!0,n.default.user.isReal=!0,n.default.user.version=a),n.default.isCallInit?void e(t.hasLogin()):this.isCloseNative?void e(t.hasLogin()):void(this.isICity()?n.default.setInitCallback(e):e(t.hasLogin()))},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},setNativeCloseState:function(e){this.isCloseNative=e},hasLogin:function(){return!!this.isCloseNative||n.default.hasLogin()},hasAuth:function(){return!!this.isCloseNative||n.default.hasAuth()},login:function(e){n.default.callNative({reqid:"",type:"login",data:""},e)},auth:function(e){n.default.callNative({reqid:"",type:"realname",data:""},e)},isSupportNativeLoading:function(){return n.default.version()>="2.4.5"},getBase64ImgHeader:function(){return"data:image/jpg;base64,"}}},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={share:function(e,t){n.default.callNative({reqid:"",type:"share",data:{id:e.appId?e.appId:"",imageUrl:e.icon,url:e.shareUrl,title:e.title,shareDesc:e.desc,description:e.desc}},t)},setShareContent:function(e,t,i){if(e=e||{},t){var a=n.default.user;e.shareUrl+=""==window.location.search?"?":"&",e.shareUrl+="token="+a.token+"&version="+a.version+"&build="+a.build+"&city="+a.city}n.default.callNative({reqid:"",type:"share_content",data:{id:e.appId||"",imageUrl:e.icon||"",url:e.shareUrl||"",title:e.title||"",shareDesc:e.desc||""}},i)},sharePhoto:function(e,t){n.default.callNative({reqid:"",type:"share_single",data:{id:e.appId?e.appId:"",sharetype:e.type?e.type:"0",imgshare:"1",imageUrl:e.icon,url:"",title:"",shareDesc:""}},t)},shareSinglePlatform:function(e,t){n.default.callNative({reqid:"",type:"share_single",data:{id:e.appId?e.appId:"",sharetype:e.type?e.type:"0",imgshare:"0",imageUrl:e.icon,url:e.shareUrl,title:e.title,shareDesc:e.desc}},t)},shareBase64Photo:function(e,t){n.default.callNative({reqid:"",type:"share_single",data:{id:e.appId?e.appId:"",sharetype:e.type?e.type:"0",imgdata:e.imgdata,imgshare:"2",imageUrl:"",url:"",title:"",shareDesc:""}},t)},savePhotoToGallery:function(e,t){n.default.callNative({reqid:"",type:"savephoto",data:{imgdata:e.imgdata}},t)}}},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={showLoading:function(){n.default.callNative({reqid:"",type:"loading",data:{isShow:1}},void 0)},hideLoading:function(){n.default.callNative({reqid:"",type:"loading",data:{isShow:0}},void 0)},setTitle:function(e,t){n.default.callNative({reqid:"",type:"webtitle",data:{title:e}},t)},isICity:function(){return navigator.userAgent.toLowerCase().indexOf("inspur icity")>-1},openGallery:function(e,t){var i=e||1;n.default.callNative({reqid:"",type:"photolib",data:{imgnum:""+i}},t)},openCamera:function(e){n.default.callNative({reqid:"",type:"cam",data:""},e)},openFeedback:function(){n.default.callNative({reqid:"",type:"feedback"},void 0)},openWallet:function(e){n.default.callNative({reqid:"",type:"wallet"},e)},navigate:function(e,t){var i=e.longitude?e.longitude:"0.0",a=e.latitude?e.latitude:"0.0",o=e.address?e.address:"",s=e.region?e.region:n.default.user.city;n.default.callNative({reqid:"",type:"navigator",data:{longitude:i,latitude:a,address:o,region:s}},t)},closeWebView:function(){n.default.callNative({reqid:"",type:"close",data:{}},void 0)},openNews:function(e,t){n.default.callNative({reqid:"",type:"openNews",data:e},t)},openMicroApp:function(e,t){n.default.callNative({reqid:"",type:"openApp",data:e},t)},openMicroPage:function(e,t){n.default.callNative({reqid:"",type:"openPage",data:e},t)}}},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={getVersion:function(){return n.default.version()},getCityCode:function(){return n.default.getCityCode()},getOpenToken:function(e){n.default.callNative({reqid:"",type:"open_token"},e)}}},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={getData:function(e,t){n.default.callNative({reqid:"",type:"reqdata",data:e},t)},saveCalendar:function(e,t){n.default.callNative({reqid:"",type:"scheduleNotice",data:{startDate:e.startDate,endDate:e.endDate,noticeTime:e.noticeTime,message:e.message}},t)},putItem:function(e,t,i){n.default.callNative({type:"sqlite",data:{type:"put",key:e,value:t}},i)},getItem:function(e,t){n.default.callNative({type:"sqlite",data:{type:"get",key:e}},t)},delItem:function(e,t){n.default.callNative({type:"sqlite",data:{type:"delete",key:e}},t)}}},function(e,t,i){"use strict";i(1);var a=i(9),n=function(e){return e&&e.__esModule?e:{default:e}}(a);Object&&Object.assign?window.iCityBridge=Object.assign(window.iCityBridge,n.default):objExtend(window.iCityBridge,n.default)},function(e,t,i){"use strict";var a=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports={openDebug:function(){sessionStorage.setItem("isOutLog","1")},setDebugToken:function(e,t){sessionStorage.setItem("icity_debug_token",e),sessionStorage.setItem("icity_debug_version",t)},isUseDebugToken:function(){return n.default.isUseDebugToken},getUserInfo:function(){return n.default.user},setMockUser:function(e){n.default.setOldUser(e)},isSupportOpenWallet:function(){return n.default.user.version>="2.8.0"},updatePhoneNum:function(e){n.default.callNative({reqid:"",type:"changephone",data:""},e)},scanCard4Minsheng:function(e){n.default.callNative({reqid:"",type:"scanBankCard",data:""},e)},scanCardId:function(e,t){n.default.callNative({reqid:"",type:e,data:""},t)},http:function(e,t,i){e.useCache?this.httpPrimary("dateCache",e,t,i):this.httpPrimary("WebHTTPRequest",e,t,i)},httpPrimary:function(e,t,i,a){var o=t.url;-1==o.indexOf("https:")&&-1==o.indexOf("http:")&&(o="https:"+o),n.default.callNative({reqid:"",type:e,data:{isPost:t.type&&"post"==t.type.toLowerCase()?"1":"0",url:o,paraDic:t.body,options:t.options||{}}},function(e){console.log("jsbridge http source= "+e.source);var t="string"==typeof e.body?JSON.parse(e.body):e.body;"1"==e.state?i(t):a(t)})}}}]);